!function(t){var e={id:"pignose-popup",name:"PIGNOSE Popup JS",author:"kenneth ceyer",email:"kennethan@nhpcw.com",dev:{handler:".pignosePopupHandler"},plugin:{item:null,tint:null,doc:!0}},n={_throw:function(n,i){t.error("'"+e.name+"' load failed ("+i+"): "+n)},_bind:function(t,n,i,o){var c=n.replace(/(\w+(?=\s)?)/gi,"$1"+e.dev.handler);return t.unbind(c).bind(c,i),!!o==!0&&t.triggerHandler(c),t},_unbind:function(t,n){var i=n.replace(/(\w+(?=\s)?)/gi,"$1"+e.dev.handler);t.unbind(i)},_trigger:function(t,n){var i=n.replace(/(\w+(?=\s)?)/gi,"$1"+e.dev.handler);t.triggerHandler(i)},_excute:function(t,n){"function"==typeof t&&null!=t&&t.call(e.plugin.item,n)},_extend:function(t,e){var i=arguments;"object"==typeof t&&null!=t&&(t[e]=function(){n[e].apply(this,Array.prototype.slice.call(i,2))})},init:function(i){var o=t.extend({animate:!0,theme:"",btn_close:".btn_close",escape:!0,time:300,tint:"#000000",opacity:.6,scroll:!1,zIndex:500},i),c=this;return c.addClass(e.id),""!=typeof o.theme&&c.addClass(o.theme),e.plugin.item=c,n._excute(n.open,o),c},setTint:function(i){if(t(".pignose_tint").length<1){var o=t('<div class="pignose_tint">&nbsp;</div>');o.hide()}else var o=t(".pignose_tint");o.css({position:"fixed",left:"0",top:"0",width:"100%",height:"100%",padding:"0",margin:"0",fontSize:"0",zIndex:i.zIndex,backgroundColor:i.tint,opacity:i.opacity}),i.escape===!0&&n._bind(o,"click",function(){n._excute(n.close,i)}),o.appendTo("body"),e.plugin.tint=o,i.animate===!0?o.stop().fadeIn(i.time):o.show()},setPopup:function(e){var i=t(window),o=this.each(function(){var n=t(this);n.css({position:"absolute",zIndex:e.zIndex+1}),e.animate===!0?n.stop().fadeIn(e.time):n.show()});n._bind(i,"resize",function(){o.each(function(){var e=t(this);e.css({left:(i.width()-e.outerWidth(!0))/2,top:(i.height()-e.outerHeight(!0))/2+i.scrollTop(),left:(i.width()-e.outerWidth(!0))/2+i.scrollLeft()})})},!0),e.scroll===!0&&n._bind(i,"scroll",function(){o.css({top:(i.height()-o.outerHeight(!0))/2+i.scrollTop(),left:(i.width()-o.outerWidth(!0))/2+i.scrollLeft()})}),n._bind(o,"close",function(){n._excute(n.close,e)}),n._bind(o,"click",function(t){t.stopPropagation()}),n._bind(o.find(e.btn_close),"click",function(t){n._excute(n.close,e),t.preventDefault()})},open:function(t){n._excute(n.setTint,t),n._excute(n.setPopup,t)},close:function(t){t.animate===!0?(this.stop().fadeOut(t.time),e.plugin.tint.stop().fadeOut(t.time)):(this.hide(),e.plugin.tint.hide())}};t.fn.pignosePopup=function(t){var e=1;return"function"==typeof n[t]?n[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?(n._throw("an error has occurred in initialization.",0),e):n.init.apply(this,arguments)}}(jQuery);